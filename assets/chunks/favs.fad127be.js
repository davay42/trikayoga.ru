import{u as Q,h as k,i as x,j as R,k as $,l as G,m as U,n as X,q as Y,s as B,v as z,x as _,y as Z,z as D,A as ee,B as te,C as ne}from"./framework.08bce705.js";function W(e){return G()?(U(e),!0):!1}function E(e){return typeof e=="function"?e():Q(e)}const re=typeof window<"u"&&typeof document<"u",H=()=>{};function ae(e,t){function r(...s){return new Promise((n,a)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(n).catch(a)})}return r}const I=e=>e();function se(e=I){const t=k(!0);function r(){t.value=!1}function s(){t.value=!0}const n=(...a)=>{t.value&&e(...a)};return{isActive:x(t),pause:r,resume:s,eventFilter:n}}function oe(...e){if(e.length!==1)return X(...e);const t=e[0];return typeof t=="function"?x(Y(()=>({get:t,set:H}))):k(t)}function ie(e,t,r={}){const{eventFilter:s=I,...n}=r;return R(e,ae(s,t),n)}function ue(e,t,r={}){const{eventFilter:s,...n}=r,{eventFilter:a,pause:i,resume:u,isActive:c}=se(s);return{stop:ie(e,t,{...n,eventFilter:a}),pause:i,resume:u,isActive:c}}function le(e,t=!0){B()?z(e):t?e():_(e)}function be(e=!1,t={}){const{truthyValue:r=!0,falsyValue:s=!1}=t,n=$(e),a=k(e);function i(u){if(arguments.length)return a.value=u,a.value;{const c=E(r);return a.value=a.value===c?E(s):c,a.value}}return n?i:[a,i]}function P(e){const t=E(e);return(t==null?void 0:t.$el)??t}const A=re?window:void 0;function j(...e){let t,r,s,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,s,n]=e,t=A):[t,r,s,n]=e,!t)return H;Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]);const a=[],i=()=>{a.forEach(f=>f()),a.length=0},u=(f,y,g,d)=>(f.addEventListener(y,g,d),()=>f.removeEventListener(y,g,d)),c=R(()=>[P(t),E(n)],([f,y])=>{i(),f&&a.push(...r.flatMap(g=>s.map(d=>u(f,g,d,y))))},{immediate:!0,flush:"post"}),v=()=>{c(),i()};return W(v),v}function ce(){const e=k(!1);return B()&&z(()=>{e.value=!0}),e}function fe(e){const t=ce();return D(()=>(t.value,!!e()))}function de(e,t={}){const{window:r=A}=t,s=fe(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let n;const a=k(!1),i=v=>{a.value=v.matches},u=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",i):n.removeListener(i))},c=ee(()=>{s.value&&(u(),n=r.matchMedia(E(e)),"addEventListener"in n?n.addEventListener("change",i):n.addListener(i),a.value=n.matches)});return W(()=>{c(),u(),n=void 0}),a}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",me=pe();function pe(){return V in T||(T[V]=T[V]||{}),T[V]}function q(e,t){return me[e]||t}function he(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ge={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},J="vueuse-storage";function K(e,t,r,s={}){const{flush:n="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:v,window:f=A,eventFilter:y,onError:g=o=>{console.error(o)}}=s,d=(v?Z:k)(t);if(!r)try{r=q("getDefaultStorage",()=>A==null?void 0:A.localStorage)()}catch(o){g(o)}if(!r)return d;const p=E(t),S=he(p),b=s.serializer??ge[S],{pause:F,resume:L}=ue(d,()=>N(d.value),{flush:n,deep:a,eventFilter:y});return f&&i&&(j(f,"storage",C),j(f,J,O)),C(),d;function N(o){try{if(o==null)r.removeItem(e);else{const l=b.write(o),h=r.getItem(e);h!==l&&(r.setItem(e,l),f&&f.dispatchEvent(new CustomEvent(J,{detail:{key:e,oldValue:h,newValue:l,storageArea:r}})))}}catch(l){g(l)}}function m(o){const l=o?o.newValue:r.getItem(e);if(l==null)return u&&p!==null&&r.setItem(e,b.write(p)),p;if(!o&&c){const h=b.read(l);return typeof c=="function"?c(h,p):S==="object"&&!Array.isArray(h)?{...p,...h}:h}else return typeof l!="string"?l:b.read(l)}function O(o){C(o.detail)}function C(o){if(!(o&&o.storageArea!==r)){if(o&&o.key==null){d.value=p;return}if(!(o&&o.key!==e)){F();try{(o==null?void 0:o.newValue)!==b.write(d.value)&&(d.value=m(o))}catch(l){g(l)}finally{o?_(L):L()}}}}}function ve(e){return de("(prefers-color-scheme: dark)",e)}function ye(e={}){const{selector:t="html",attribute:r="class",initialValue:s="auto",window:n=A,storage:a,storageKey:i="vueuse-color-scheme",listenToStorageChanges:u=!0,storageRef:c,emitAuto:v,disableTransition:f=!0}=e,y={auto:"",light:"light",dark:"dark",...e.modes||{}},g=ve({window:n}),d=D(()=>g.value?"dark":"light"),p=c||(i==null?oe(s):K(i,s,a,{window:n,listenToStorageChanges:u})),S=D(()=>p.value==="auto"?d.value:p.value),b=q("updateHTMLAttrs",(m,O,C)=>{const o=typeof m=="string"?n==null?void 0:n.document.querySelector(m):P(m);if(!o)return;let l;if(f){l=n.document.createElement("style");const h="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";l.appendChild(document.createTextNode(h)),n.document.head.appendChild(l)}if(O==="class"){const h=C.split(/\s/g);Object.values(y).flatMap(M=>(M||"").split(/\s/g)).filter(Boolean).forEach(M=>{h.includes(M)?o.classList.add(M):o.classList.remove(M)})}else o.setAttribute(O,C);f&&(n.getComputedStyle(l).opacity,document.head.removeChild(l))});function F(m){b(t,r,y[m]??m)}function L(m){e.onChanged?e.onChanged(m,F):F(m)}R(S,L,{flush:"post",immediate:!0}),le(()=>L(S.value));const N=D({get(){return v?p.value:S.value},set(m){p.value=m}});try{return Object.assign(N,{store:p,system:d,state:S})}catch{return N}}function Ae(e={}){const{valueDark:t="dark",valueLight:r=""}=e,s=ye({...e,onChanged:(a,i)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,a==="dark",i,a):i(a)},modes:{dark:t,light:r}});return D({get(){return s.value==="dark"},set(a){const i=a?"dark":"light";s.system.value===i?s.value="auto":s.value=i}})}const w=K("stars",{});function we(e){w.value[e]&&delete w.value[e]}function Ce(){const{frontmatter:e}=te(),t=ne();z(()=>{R([t,w.value],n=>{r()},{immediate:!0})});function r(){_(()=>{let n=document.location.hash,a=document.getElementById(n.slice(1));a&&a.scrollIntoView(),[...document.getElementsByClassName("num")].forEach(u=>{let c=t.path+"#"+u.id;w.value[c]?u.classList.add("fav"):u.classList.remove("fav"),u.addEventListener("click",s)})})}function s(n){let a=n.target.parentNode,i=a?a.innerHTML:"",u={title:e.value.title,description:e.value.description,stanza:n.target.innerText,link:t.path+"#"+n.target.id,content:i};w.value[u.link]?delete w.value[u.link]:w.value[u.link]=u}return{favs:w,mount:r,setFav:s,removeFav:we}}export{be as a,K as b,Ce as c,w as f,we as r,Ae as u};
